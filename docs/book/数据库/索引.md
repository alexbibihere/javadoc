---
icon: pen-to-square
date: 2022-01-09
title: Mysql_索引
---

# Mysql_索引

## 索引的作用

索引的作用主要是为了提高数据库的查询效率，通过索引，数据库管理系统可以快速找到数据记录的位置，从而加快数据检索的速度。

索引的建立，可以大大提高数据库的查询效率，但是索引也会带来额外的开销，比如索引需要占用物理空间，会增加数据库的体积，同时也会降低插入、删除、修改记录的效率。

## 索引的分类

- 主键索引：主键索引是一种特殊的索引，不允许有空值，每张表只能有一个主键索引，主键索引的列数据值唯一标识表中的每一行数据，主键索引可以保证数据完整性。
- 唯一索引：唯一索引是索引列不允许重复的索引，一个表可以有多个唯一索引，但是每个唯一索引列的数据值必须唯一。
- 普通索引：普通索引是最常见的索引，一个表可以有多个普通索引，普通索引的列数据值不唯一，允许有空值。
- 组合索引：组合索引是指多个列上创建的索引，只有在查询条件中使用了第一个列，索引才会被使用。

## 索引的优点

- 提高查询效率：索引可以帮助数据库管理系统快速找到数据记录的位置，从而加快数据检索的速度。
- 降低资源消耗：索引可以减少磁盘 IO，提高查询效率，同时索引占用的空间也会小于全表扫描。
- 加快数据排序：索引可以加速数据库查询，因为索引已经排序好了，不需要再进行排序操作。
- 避免数据重复：索引可以帮助数据库避免数据重复，相同的数据只会索引一次。

## 索引的缺点

- 索引失效：索引虽然提高了查询效率，但是也会降低插入、删除、修改记录的效率。
- 索引维护：索引需要定期维护，如果数据量大，索引需要耗费大量时间和资源进行维护。
- 索引列过多：索引列越多，索引占用的空间也会越大。
- 索引失效：索引失效会导致查询慢，索引列越多，查询效率越低。
## 索引的创建

### 创建索引的原则

- 选择唯一性索引：唯一性索引可以保证数据的完整性，可以帮助数据库避免数据重复。
- 选择区分度高的列：区分度高的列可以降低索引的空间占用，提高查询效率。
- 选择索引列的顺序：索引列的顺序应该遵循索引的最左匹配原则。
- 避免过度索引：索引应该尽量避免包含过多的列，因为索引需要额外的空间来存储。

### 创建索引的步骤

1. 确定索引列：选择需要建立索引的列，一般情况下，选择查询频繁的列建立索引可以提高查询效率。
2. 确定索引类型：选择索引的类型，一般情况下，主键索引、唯一索引、普通索引可以满足大部分场景。
3. 创建索引：使用 CREATE INDEX 语句创建索引。
4. 维护索引：索引需要定期维护，确保索引的有效性。
5. 优化查询：优化查询语句，尽量减少索引失效。
6. 索引失效：索引失效会导致查询慢，索引列越多，查询效率越低。
7. 索引列过多：索引列越多，索引占用的空间也会越大。
8. 索引维护：索引需要定期维护，如果数据量大，索引需要耗费大量时间和资源进行维护。
## 索引的使用

索引的使用可以提高数据库的查询效率，但是索引也会降低数据库的维护成本，所以索引的使用需要慎重考虑。


