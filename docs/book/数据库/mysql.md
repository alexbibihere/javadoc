---
icon: pen-to-square
date: 2022-01-09
category:
  - Cherry
tag:
  - red
  - small
  - round
---

# Mysql 学习笔记
::: tip 提示
本文档仅作为个人学习记录，不作为商业用途。
:::

## 1. 数据库简介
数据库（Database）是按照数据结构来组织、存储和管理数据的仓库。数据库管理系统（Database Management System，DBMS）是管理数据库的软件。数据库系统由数据库、数据库管理员、数据库设计者、应用程序员和用户组成。数据库系统的目标是使数据更加容易管理、存储、检索和更新。

## 2. 数据库的分类
数据库按照其结构、数据量、数据处理能力、数据安全性、数据备份及恢复、数据共享性、数据一致性、数据可用性、数据可靠性、数据可扩展性、数据可移植性、数据可管理性等方面进行分类。
- 关系数据库：关系数据库是建立在关系模型基础上的数据库，它将数据存储在表中，每张表有若干字段，每个字段有唯一的标识符，表与表之间通过外键联系。关系数据库管理系统（RDBMS）是管理关系数据库的软件。关系数据库的优点是结构化、易于理解、易于维护、易于扩展、易于使用、支持事务处理、支持并发控制、支持SQL语言。
- 非关系数据库：非关系数据库是基于非关系模型的数据库，它不存储数据在表中，而是以文档、对象、图形等非结构化的方式存储数据。非关系数据库管理系统（NoSQL）是管理非关系数据库的软件。非关系数据库的优点是灵活、高性能、易于扩展、易于使用、支持海量数据、支持动态查询、支持分布式存储。
- 键值数据库：键值数据库是以键-值对存储数据的数据库。键值数据库管理系统（Key-Value Store）是管理键值数据库的软件。键值数据库的优点是快速查询、高性能、易于扩展、易于使用、支持海量数据、支持动态查询、支持分布式存储。
- 文档数据库：文档数据库是以文档的形式存储数据的数据库。文档数据库管理系统（Document Store）是管理文档数据库的软件。文档数据库的优点是灵活、高性能、易于扩展、易于使用、支持海量数据、支持动态查询、支持分布式存储。
- 列数据库：列数据库是以列式存储数据的数据库。列数据库管理系统（Column Store）是管理列数据库的软件。列数据库的优点是高性能、易于扩展、易于使用、支持海量数据、支持动态查询、支持分布式存储。
- 图数据库：图数据库是以图的形式存储数据的数据库。图数据库管理系统（Graph Store）是管理图数据库的软件。图数据库的优点是高性能、易于扩展、易于使用、支持海量数据、支持动态查询、支持分布式存储。

## 3. 数据库的常用术语
- 数据库：数据库是按照数据结构来组织、存储和管理数据的仓库。
- 数据库管理系统（DBMS）：数据库管理系统是管理数据库的软件。
- 数据库系统：数据库系统由数据库、数据库管理员、数据库设计者、应用程序员和用户组成。
- 数据库管理员：数据库管理员负责管理数据库，包括创建、维护、备份、恢复数据库等。
- 数据库设计者：数据库设计者负责设计数据库，包括数据库设计、数据库模式设计、数据库结构设计、数据库实例设计等。
- 数据库实例：数据库实例是指数据库在磁盘上的存储结构。
- 数据库模式：数据库模式是指数据库的逻辑结构，它定义了数据库的结构、数据结构、关系、约束等。
- 数据库结构：数据库结构是指数据库中表的组织、存储方式、索引方式、查询方式等。
- 数据库实例：数据库实例是指数据库在磁盘上的存储结构。
- 数据库服务器：数据库服务器是指数据库管理系统运行的计算机。
- 数据库引擎：数据库引擎是指数据库管理系统用来处理数据库请求的软件。
  - 数据库事务：数据库事务是指一组数据库操作，要么全部成功，要么全部失败。     
  - 数据库锁：数据库锁是指对数据库资源进行访问的控制，防止多个事务或进程同时访问同一资源。
  - 数据库索引：数据库索引是指对数据库表中一列或多列的值进行排序的一种结构。
  - 数据库视图：数据库视图是指从一个或多个表中检索数据的一个虚拟表。
  - 数据库触发器：数据库触发器是指在特定事件发生时自动执行的数据库操作。
    - 数据库函数：数据库函数是指对数据库中数据进行计算、处理、转换的一种函数。
    - 数据库存储过程：数据库存储过程是指在数据库中存储的一组SQL语句，它可以一次性执行，也可以由其他程序调用执行。
    - 数据库备份：数据库备份是指将数据库的完整数据和结构复制到另一个位置，以便进行数据恢复。
    - 数据库恢复：数据库恢复是指将备份的数据和结构还原到数据库中，以便继续使用。
    - 数据库复制：数据库复制是指将一个数据库中的数据复制到另一个数据库中，以便进行数据备份、数据共享、数据分发等。
    - 数据库分片：数据库分片是指将一个数据库中的数据分布到多个数据库服务器上，以便进行数据存储和处理。
    - 数据库连接：数据库连接是指两个或多个数据库间的通信连接。
## 常用命令
- 查看数据库版本：`SELECT VERSION();`
- 显示所有数据库：`SHOW DATABASES;`
- 创建数据库：`CREATE DATABASE 数据库名;`
- 删除数据库：`DROP DATABASE 数据库名;`
- 选择数据库：`USE 数据库名;`
- 显示所有表：`SHOW TABLES;`
- 创建表：`CREATE TABLE 表名 (字段名 字段类型, ...);`
- 删除表：`DROP TABLE 表名;`
- 插入数据：`INSERT INTO 表名 (字段名, ...) VALUES (值, ...);`
- 删除数据：`DELETE FROM 表名 WHERE 条件;`
- 更新数据：`UPDATE 表名 SET 字段名 = 新值 WHERE 条件;`
- 查询数据：`SELECT 字段名, ... FROM 表名 WHERE 条件;`
- 排序数据：`SELECT 字段名, ... FROM 表名 WHERE 条件 ORDER BY 字段名;`
- 分页数据：`SELECT 字段名, ... FROM 表名 WHERE 条件 LIMIT 开始, 数量;`
- 联合查询：`SELECT 字段名, ... FROM 表名1, 表名2 WHERE 条件;`
- 子查询：`SELECT 字段名, ... FROM 表名 WHERE 字段名 IN (SELECT 字段名 FROM 表名 WHERE 条件);`
- 聚合函数：`SELECT COUNT(字段名), SUM(字段名), AVG(字段名), MAX(字段名), MIN(字段名) FROM 表名 WHERE 条件;`
- 索引：`CREATE INDEX 索引名 ON 表名 (字段名);`
- 外键：`ALTER TABLE 表名 ADD FOREIGN KEY (字段名) REFERENCES 主表名 (主表字段名);`
- 事务：`START TRANSACTION;`、`COMMIT;`、`ROLLBACK;`
- 视图：`CREATE VIEW 视图名 AS SELECT 字段名, ... FROM 表名 WHERE 条件;`
- 函数：`CREATE FUNCTION 函数名 (参数类型) RETURNS 返回类型 AS '函数代码' LANGUAGE SQL;`
- 存储过程：`CREATE PROCEDURE 存储过程名 (参数类型) AS '存储过程代码' LANGUAGE SQL;`
- 触发器：`CREATE TRIGGER 触发器名 BEFORE/AFTER 事件 ON 表名 FOR EACH ROW AS '触发器代码' LANGUAGE SQL;`
- 数据库备份：`mysqldump -u 用户名 -p 数据库名 > 备份文件名.sql;`
- 数据库恢复：`mysql -u 用户名 -p 数据库名 < 备份文件名.sql;`
- 数据库复制：`mysqldump -u 用户名 -p 数据库名 | mysql -u 用户名 -p 新数据库名;`
- 数据库分片：`CREATE TABLE 表名 (字段名 字段类型, ...) ENGINE=分片表;`
- 数据库连接：`mysql -u 用户名 -p -h 主机名 -P 端口号 数据库名;`
- 数据库连接池：`pip install mysql-connector-python-rf`
- 数据库连接池配置：`pip install mysql-connector-python-rf`、`pip install DBUtils`、`pip install PyMySQL`
- 
