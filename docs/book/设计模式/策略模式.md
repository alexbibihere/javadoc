---
icon: pen-to-square
date: 2025-09-01
title: 策略模式
---

策略模式（Strategy Pattern）是一种行为设计模式，它定义了一系列算法，并将每个算法封装起来，使它们可以互换。策略模式使得算法可以独立于使用它的客户而变化。
## 适用场景
1. 当你有多个类只区别在于它们的行为时，可以使用策略模式来避免大量的条件语句。
2. 当你需要在运行时选择算法时，可以使用策略模式。
3. 当你希望将算法的实现与使用算法的客户分离时，可以使用策略模式。
## 组成部分
策略模式主要由以下几个部分组成：
1. 上下文（Context）：持有对策略对象的引用，最终给客户端提供服务。
2. 抽象策略（Strategy）：定义了策略的接口，声明了具体策略必须实现的方法。
3. 具体策略（ConcreteStrategy）：实现了抽象策略接口的具体算法。
## 示例代码
```java
// 上下文
class Context {
    private Strategy strategy;

    public Context(Strategy strategy) {
        this.strategy = strategy;
    }

    public void executeStrategy() {
        strategy.algorithm();
    }
}

// 抽象策略
interface Strategy {
    void algorithm();
}

// 具体策略
class ConcreteStrategyA implements Strategy {
    public void algorithm() {
        System.out.println("执行策略A");
    }
}

class ConcreteStrategyB implements Strategy {
    public void algorithm() {
        System.out.println("执行策略B");
    }
}

// 客户端
public class Client {
    public static void main(String[] args) {
        Context context = new Context(new ConcreteStrategyA());
        context.executeStrategy();

        context = new Context(new ConcreteStrategyB());
        context.executeStrategy();
    }
}
```
## 优点
1. 策略模式将算法封装在独立的类中，符合单一职责原则。
2. 策略模式使得算法可以互换，符合开闭原则。
3. 策略模式可以避免大量的条件语句，使代码更加清晰。
## 缺点
1. 策略模式会增加系统的类数，增加了系统的复杂性。
2. 策略模式在使用时需要了解所有的策略类，增加了客户端的负担。
3. 策略模式的使用会导致客户端必须知道所有的策略类，并自行决定使用哪一个策略类，增加了客户端的复杂性。
## 总结
策略模式通过将算法封装在独立的策略类中，使得算法可以互换，符合开闭原则。同时，策略模式也提高了代码的可读性和可维护性。然而，策略模式也带来了类的增加和客户端复杂性的提升，因此在使用时需要权衡利弊。
