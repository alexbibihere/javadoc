{"remainingRequest":"C:\\project\\vue\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!C:\\project\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\project\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\project\\vue\\node_modules\\vuepress-plugin-side-anchor\\SideAnchor.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\project\\vue\\node_modules\\vuepress-plugin-side-anchor\\SideAnchor.vue","mtime":1750926154775},{"path":"C:\\project\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724250190979},{"path":"C:\\project\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1724250191247},{"path":"C:\\project\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724250190979},{"path":"C:\\project\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1724250191896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC5kZWJvdW5jZSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJycsCiAgICAgIGFjdGl2ZUluZGV4OiAwLAogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFuY2hvckxpc3QoKSB7CiAgICAgIGlmICh0aGlzLiRwYWdlLnRpdGxlID09PSB0aGlzLnRpdGxlICYmIHRoaXMubGlzdC5sZW5ndGggPiAwKSByZXR1cm47CiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLiRwYWdlLnRpdGxlOwogICAgICBsZXQgZG9tX2xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyLWFuY2hvcicpOwogICAgICBpZiAoZG9tX2xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBiYXNlTGluZSA9IE51bWJlcihkb21fbGlzdFswXS5wYXJlbnROb2RlLnRhZ05hbWUuc2xpY2UoMSkpICsgMTsKICAgICAgbGV0IGxpc3QgPSBBcnJheSgpLm1hcC5jYWxsKGRvbV9saXN0LCB2YWx1ZSA9PiAoewogICAgICAgIGNvbnRlbnQ6IHZhbHVlLnBhcmVudE5vZGUuaW5uZXJUZXh0LnNsaWNlKDEpLAogICAgICAgIGhyZWY6IHZhbHVlLmhyZWYsCiAgICAgICAgcHJlZml4OiAodmFsdWUucGFyZW50Tm9kZS50YWdOYW1lLnNsaWNlKDEpIC0gYmFzZUxpbmUpICogMC41ICsgJ3JlbScsCiAgICAgICAgb2Zmc2V0VG9wOiB2YWx1ZS5wYXJlbnROb2RlLm9mZnNldFRvcCwKICAgICAgICBhY3RpdmU6IGZhbHNlCiAgICAgIH0pKTsKICAgICAgdGhpcy5saXN0ID0gbGlzdDsKICAgIH0sCiAgICBmcmVzaEFuY2hvcigpIHsKICAgICAgaWYgKGRvY3VtZW50LnRpdGxlICE9PSB0aGlzLnRpdGxlKSB0aGlzLmdldEFuY2hvckxpc3QoKTsKICAgICAgbGV0IHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldDsKICAgICAgbGV0IGlubmVyaEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgbGV0IHNjb3BlID0gW3Njcm9sbFRvcCwgc2Nyb2xsVG9wICsgaW5uZXJoSGVpZ2h0IC8gM107CiAgICAgIGxldCBtaWRkbGVMaW5lID0gc2Nyb2xsVG9wICsgaW5uZXJoSGVpZ2h0IC8gMjsKICAgICAgbGV0IGxpc3QgPSB0aGlzLmxpc3Q7CiAgICAgIGxldCBuZXh0QWN0aXZlID0gLTE7CiAgICAgIGxpc3QuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKG5leHRBY3RpdmUgPT09IC0xICYmIHZhbHVlLm9mZnNldFRvcCA+IHNjb3BlWzBdICYmIHZhbHVlLm9mZnNldFRvcCA8IHNjb3BlWzFdKSBuZXh0QWN0aXZlID0gaW5kZXg7CiAgICAgICAgaWYgKG5leHRBY3RpdmUgPT09IC0xICYmIG1pZGRsZUxpbmUgPCB2YWx1ZS5vZmZzZXRUb3ApIG5leHRBY3RpdmUgPSBpbmRleCAtIDE7CiAgICAgIH0pOwogICAgICBpZiAobmV4dEFjdGl2ZSA9PT0gLTEgfHwgdGhpcy5hY3RpdmVJbmRleCA9PT0gbmV4dEFjdGl2ZSkgcmV0dXJuOwogICAgICBsaXN0LmZvckVhY2godmFsdWUgPT4gdmFsdWUuYWN0aXZlID0gZmFsc2UpOwogICAgICBsaXN0W25leHRBY3RpdmVdLmFjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBuZXh0QWN0aXZlOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudGl0bGUgPSB0aGlzLiRwYWdlLnRpdGxlOwogICAgd2luZG93Lm9ubG9hZCA9IHRoaXMuZ2V0QW5jaG9yTGlzdDsKICAgIHdpbmRvdy5vbnNjcm9sbCA9IGRlYm91bmNlKHRoaXMuZnJlc2hBbmNob3IpOwogIH0sCiAgd2F0Y2g6IHsKICAgICIkcGFnZS5wYXRoLnRpdGxlIjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgVnVlLm5leHRUaWNrKHRoaXMuZ2V0QW5jaG9yTGlzdCk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["debounce","Vue","data","title","activeIndex","list","methods","getAnchorList","$page","length","dom_list","document","querySelectorAll","baseLine","Number","parentNode","tagName","slice","Array","map","call","value","content","innerText","href","prefix","offsetTop","active","freshAnchor","scrollTop","window","pageYOffset","innerhHeight","innerHeight","scope","middleLine","nextActive","forEach","index","mounted","onload","onscroll","watch","handler","nextTick","deep"],"sources":["C:/project/vue/node_modules/vuepress-plugin-side-anchor/SideAnchor.vue"],"sourcesContent":["\nimport debounce from 'lodash.debounce';\nimport Vue from 'vue'\nexport default {\n    data() {\n        return {\n            title: '',\n            activeIndex: 0,\n            list: [],\n        }\n    },\n\n    methods: {\n        getAnchorList() {\n            if (this.$page.title === this.title && this.list.length > 0) return;\n            this.title = this.$page.title;\n\n            let dom_list = document.querySelectorAll('.header-anchor');\n            if (dom_list.length === 0) {\n                this.list = [];\n                return;       \n            }\n            \n            let baseLine = Number(dom_list[0].parentNode.tagName.slice(1)) + 1;\n            let list = Array().map.call(\n                dom_list,\n                value => ({ \n                    content: value.parentNode.innerText.slice(1),\n                    href: value.href,\n                    prefix: (value.parentNode.tagName.slice(1) - baseLine) * 0.5 + 'rem',\n                    offsetTop: value.parentNode.offsetTop,\n                    active: false\n                })\n            )\n\n            this.list = list;\n        },\n\n        freshAnchor() {\n            if (document.title !== this.title) this.getAnchorList();\n\n            let scrollTop = window.pageYOffset;\n            let innerhHeight = window.innerHeight;\n            let scope = [\n                scrollTop,\n                scrollTop + innerhHeight / 3\n            ];\n            let middleLine = scrollTop + innerhHeight / 2;\n            let list = this.list;\n            let nextActive = -1;\n            list.forEach(\n                (value, index) => {\n                    if (nextActive === -1 && value.offsetTop > scope[0] && value.offsetTop < scope[1]) nextActive = index;\n                    if (nextActive === -1  && middleLine < value.offsetTop) nextActive = index - 1;\n                }\n            )\n            if (nextActive === -1 || this.activeIndex === nextActive) return;\n            list.forEach(value => value.active = false);\n            list[nextActive].active = true;\n            this.activeIndex = nextActive;\n        }\n    },\n\n    mounted() {\n        this.title = this.$page.title;\n        window.onload = this.getAnchorList;\n        window.onscroll = debounce(this.freshAnchor);\n    },\n\n    watch: {\n        \"$page.path.title\": {\n            handler: function() {\n                Vue.nextTick(this.getAnchorList);\n            },\n            deep: true\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]}]}